<html><head></head><meta charset="utf-8" /><body><html><head><meta charset="UTF-8" /><title>Urbit / Posts</title><meta name="viewport" content="width=device-width , initial-scale=1" /><link href="/tilde.ico" rel="icon" /><link href="/css/base.css" rel="stylesheet" /><link href="/css/lists.css" rel="stylesheet" /><link href="/css/visibility.css" rel="stylesheet" /><link href="/css/borders.css" rel="stylesheet" /><link href="/css/colors.css" rel="stylesheet" /><link href="/css/inputs.css" rel="stylesheet" /><link href="/css/typography.css" rel="stylesheet" /><link href="/css/menu.css" rel="stylesheet" /><link href="/css/images.css" rel="stylesheet" /><link href="/css/flex.css" rel="stylesheet" /><script src="https://www.googletagmanager.com/gtag/js?id=UA-47054188-1"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'UA-47054188-1');</script></head><body><nav class="bg-black pb-36 menu-hide overflow-y"><div class="container"><div class="row pt-10 mb-3"><div class="col-sm-1 menu-toggle"><img class="w-8 h-8" src="/assets/menu-close.svg" /></div><div class="col-sm-9 col-md-8 col-lg-4 col-sm-offset-2 col-md-offset-1 white"><div class="mb-6"><a href="/primer"><h1>Primer</h1></a><p> </p></div><div class="mb-6"><a href="/posts"><h1>Posts</h1></a><p> </p></div><div class="mb-6"><a href="/docs"><h1>Docs</h1></a><p> </p></div></div></div></div><footer class="container mb-36 white"><div class="row"><div class="col-sm-6 col-sm-offset-3 col-md-offset-2"><div><div class="mb-6"><h4 class="mb-1">Follow</h4><div><a class="text-mono" href="https://twitter.com/@urbit" target="_blank">twitter.com/@urbit</a></div><div><a class="text-mono" href="https://github.com/urbit" target="_blank">github.com/@urbit</a></div></div><div class="mb-6"><h4 class="mb-1">Contact</h4><div class="text-mono text-400">~zod</div><div><a class="text-mono" href="mailto:support@urbit.org">support@urbit.org</a></div></div><div class="mb-6"><h4 class="mb-1">Company</h4><div><a href="/privacy">Privacy Policy</a></div><div><a href="/tos">Terms of Service</a></div><div class="text-400"><a href="/bounty">Bug Bounty + Security</a></div></div></div></div></div></footer></nav><div class="container mt-10"><div class="row fixed"><div class="col-sm-12 menu-toggle"><img class="w-8 h-8" src="/assets/menu-open.svg" /></div><div class="col-sm-8 col-md-12 ml-1 mt-3 sm-2"><ul class="list-reset h-font"><a href="/posts"><li>All</li></a><a href="/posts/updates"><li>Updates</li></a><a href="/posts/essays"><li>Essays</li></a><a href="/posts/media"><li>Media</li></a></ul></div></div><div class="row pb-80"><div class="col-sm-9 col-md-8 col-sm-offset-3 col-md-offset-2"><div class="post col-sm-12"><div><h1 id="-2016-10-6-update-">~2016.10.6 Update </h1><p>September&#39;s monthly update slipped into October! But don&#39;t worry, it&#39;s a good one. </p><h2 id="---hard-tech----">“Hard tech” </h2><p>In <a href="http://www.themacro.com/articles/2016/09/chad-rigetti-on-building-quantum-computers/">this amusing talk</a>, Chad Rigetti defines “hard tech” as “solving problems you don&#39;t even know are solvable.” Rigetti is building a quantum computer, which is definitely “hard tech.” More power to him! </p><p>But software can be “hard,” too. Is Urbit “hard tech”? </p><p>The correct answer at this point is: no, but it <i>used</i> to be hard tech. Now it&#39;s actually real, if not exactly easy. The Urbit network hasn&#39;t crashed once this summer, though we did one intentional breach (right before delivering the stars). I&#39;m still kind of amazed by this. </p><p>But we still need to get to the point where (a) the whole network can&#39;t crash ever, (b) you can put your data in an urbit and be pretty sure it&#39;ll live forever, (c) Urbit works well as a social network, and therefore (d) we can distribute planets to ordinary human beings and not have them be like, “gah, what is this?” </p><p>If we had the resources of Microsoft or Google, or even of Mozilla, we could solve these problems with a brute-force human-wave attack. We could just debug the system into existence. It must be nice. </p><p>But not. In some ways it&#39;s essential to Urbit&#39;s mission that there isn&#39;t a giant army behind it. It means that the only way Urbit can succeed, or even survive, is to be excellent. That&#39;s the right attitude for a stack designed for the 2020s. Not that we can wait until the 2020s to get (a) through (d). Just that we don&#39;t want our children and grandchildren to curse the day this stack was born. Unix, the Internet and the Web gained the world and lost their souls -- we don&#39;t have that option. </p><p>Given this attitude, the thing that terrified me most of all about this summer&#39;s crowdsale is that the most important parts of Arvo -- the network and the PKI -- simply didn&#39;t exist in any viable sense. Yes, the present <code>%ames</code> network does net work. There is even in theory a sort of PKI, although no one has ever even tried to revoke a key. It might be secure -- who knows? </p><p>More concretely, the existing <code>%ames</code> vane (kernel module) contains both the protocol and the PKI, mixed together in a single giant state machine of the sort I&#39;ve learned never to build again. There is no perfect code anywhere in the present production Arvo, but the only body of <i>dead-end</i> code -- which needs replacement, not documentation and maintenance -- is <code>%ames</code>. </p><p>Unfortunately, networking and key management is the most important part of Urbit. In a sense it <i>is</i> Urbit. So having it not exist, except as a design in our heads, was not a good thing. </p><p>While documenting, evangelizing and in general growing Urbit is vastly important, what&#39;s even more important is finishing it -- without compromising its elegance. Elegance is the only thing Urbit has. It&#39;s not like there aren&#39;t other operating systems. </p><p>So the first thing I did after the crowdsale was to disappear into a hole and take care of this technical debt. This was not “hard tech” in the sense that I knew it was solvable. I didn&#39;t know it was solvable <i>well</i>, though. And it has to be solved <i>well</i>, because otherwise who cares. </p><h2 id="check-out-our-new--improved-cc-release-">Check out our new, improved cc-release </h2><p>I&#39;m delighted to report that the new, rewritten <code>%ames</code> network, and the all-new <code>%jael</code> PKI, are now at code complete. (Code complete means “compiling but not tested,” which is actually saying a lot in a typed functional language.) They&#39;ve been checked in to a new <code>cc-release</code> branch on <a href="https://github.com/urbit/arvo"><code>github.com/urbit/arvo</code></a>. </p><p>I think these two vanes are definitely the best code in Urbit. There&#39;s still a bit of fundamental work in Arvo (implementing the boot sequence and event security mechanisms described in the whitepaper), but this is not “hard tech” -- the designs are clear and surprises seem unlikely. </p><h2 id="-xmas--the-new-network-"><code>%xmas</code>: the new network </h2><p>New <code>%ames</code> (currently <code>arvo/xmas.hoon</code>, since old <code>%ames</code> is still in the build) has had all the key management stripped out; it&#39;s just a network vane. It&#39;s also no longer a single giant state machine, but a system of five simple 200-line state machines. </p><p>It was wonderful to discover that Hoon lets you write purely functional programs with what are essentially global variables. Specifically, nested cores generalize across global variables, local variables, and objects, in a way I find technically quite lovely if I do say so myself. On the other hand, Hoon ain&#39;t magic, and it&#39;s not like we&#39;ve solved any of the software-engineering problems inherent in a 2000-line state machine based on global variables. So, nice to kill that. </p><p>Don&#39;t look at new <code>%ames</code> just yet. It was done in July and August. It needs a few touchups to fit the <code>%jael</code> interface. And it needs to be brought up to <code>%jael</code>&#39;s quality standards. </p><h2 id="-jael--reference-code--pki--and-personal-ledger-"><code>%jael</code>: reference code, PKI, and personal ledger </h2><p><code>%jael</code> (<code>/arvo/jael.hoon</code>), the PKI, is what I&#39;m really excited about. It&#39;s what you should take a look at if you know any Hoon or even if you don&#39;t. There&#39;s several really important things about <code>%jael</code>. </p><p>The first is that it&#39;s actually reference-quality code. Or so I believe. It&#39;s literally intended to serve as a reference style for what all production-quality Hoon should look like. If you&#39;re reading the code and you see anything that isn&#39;t absolutely perfect, whether it&#39;s cosmetic or structural or anything in between, file a PR. <code>%jael</code> is fully commented -- if you think it needs more comments, or fewer, file a PR... </p><p>Needless to say, a reference style will be an enormous help in managing community contributions. It&#39;s not that, for now at least, we won&#39;t accept patches not written in line with the reference <code>%jael</code> style. But we&#39;ll always accept patches to bring &#39;those patches&#39; up to reference. For the moment, the code will just define the style by analogy, but it&#39;ll eventually spawn an actual document. </p><p>If you&#39;re feeling ambitious and want to change the reference style itself, your change is best submitted as a patch to <code>%jael</code> itself. And <i>really</i> ambitious people can create their own alternative Hoon styles -- hopefully defined at the same same level of precision. </p><p>Second, <code>%jael</code> actually implements the Urbit PKI as designed, right down to unusual but politically critical features like escaping a bad parent. Since the code is readable and heavily commented, it can and will serve as the best possible reference for the PKI&#39;s semantics. </p><p>Both <code>%ames</code> and <code>%jael</code> are designed for the new and correct single-homed urbit model, where one pier is one ship. In the new world, to boot your planet, you use your ticket to generate a symmetric key that authenticates you to your parent. When you share your public key with your parent, over that initial secure channel, it notices that it hasn&#39;t signed it yet and shares its signature back to you. </p><p>Third, <code>%jael</code> isn&#39;t just a PKI -- it&#39;s a generalized system for formal promises. The whole point of a PKI is that entities can make secure statements to each other. Of course, every <code>:talk</code> message is a signed statement, but the really important messages are <i>promises</i> -- such as, for instance, “Tlon owes you 3 stars.” </p><p>(Right now, the stars we sold in the crowdsale are recorded in the state of a higher-level application (<code>:womb</code>). (We have an encrypted offline backup, of course.) This is fine at a certain level, but it&#39;s a bit rickety and not really up to Urbit&#39;s standards of architectural elegance. Promises and secrets are fundamental state and need to be handled at a fundamental level.) </p><p>In a secure distributed social network, people need to be able to make formal promises to each other. Essentially, every ship is an <i>accounting entity</i>. It records its liabilities, which are the promises it&#39;s made to others, and its assets, which are the promises others have made to it. When I update the promises I&#39;ve made to you, I send you an updated statement. </p><p>All kinds of promises fit this mold. For instance, while you don&#39;t usually think of a symmetric key as a promise from one entity to another, it is. It&#39;s a promise from ship A to ship B, that B can identify itself to A by this secret. </p><p>So <code>%jael</code> will, among other glorious things, essentially allow every galaxy to serve as an exchange for star invitations, and any star to serve as an exchange for planet invitations. Mere payments are just the start of what you can do with this. And of course, one of our big near-term goals is to make first Urbit invitations, then (once the crypto is truly final) actual ships, tradeable on “regular” cryptocurrency exchanges. </p><p>One of my views about Bitcoin is that its decentralized, trust-free ledger isn&#39;t really the most important thing about it. Humans build trust quite easily. For instance, Bitcoin doesn&#39;t even enable trust-free payments -- a payment is always an exchange for other good or service. Do I provide the good or service before, or after, the Bitcoin payment? Either way, trust is unavoidable. </p><p>The important thing about Bitcoin is just that it enables users to manage their obligations to each other digitally, without interacting with a 20th-century asset management system made of paper and magnetic tape. Giving every user their own asset management ledger is another small revolution in that direction. And if I&#39;m defining and issuing my own digital assets, why do I need to put them on a global blockchain? You&#39;re still trusting me to actually live up to my promises. </p><p>Last but not least, <code>%jael</code> solves one of Urbit&#39;s most important and hardest problems: how do I back up my urbit? I know I said this was impossible, but I lied. </p><p>Urbit uses persistent sessions, which means a pair of ships uses the same session sequence numbers for life. Since every packet is a transaction, when you send an acknowledgment, you mean it. The upside is that we get exactly-once messaging, which if you&#39;ve ever done distributed programming is a very, very good thing. The downside is that if you lose your state, there&#39;s no way to recover it, since you don&#39;t know what sequence number to send next. (See under: <a href="https://en.wikipedia.org/wiki/Two_Generals%27_Problem">Two Generals&#39; Problem</a>). </p><p>In the new world, the Unix layer will subscribe to a stream of <code>%jael</code> changes which contain all certificate and rights actions. We&#39;ll save this separately from the rest of the pier state, and it&#39;s small and trivial to back up. </p><p>When restoring, if you have all your private keys but have lost all other state (obviously if you don&#39;t have the latest private key, you&#39;re hosed), you sign a new version of your will which contains a “brain damage” bit. When this will is propagated to your neighbors, they learn that you&#39;re brain-damaged and reset their sequence numbers -- and forget you know anything they told you, treating you as a new stranger. </p><p>At the application level, all your subscriptions get closed. Apps already have to deal with this. Forward messages shouldn&#39;t involve any state coupling; that&#39;s what subscriptions are for. In case there is some coupling anyway, you&#39;ll get an event that “ship X lost his mind, forget anything you know about him.” </p><p>Essentially, we&#39;re cheating the fact that you can&#39;t have transient sessions and <a href="http://bravenewgeek.com/you-cannot-have-exactly-once-delivery/">exactly-once delivery</a> by letting the abstraction leak in this special case, and putting the responsibility for fixing it on the brain-damaged ship. It may even leak up to the user. But dude, you&#39;re the one that let your brain fall out of your skull. </p><p>Another thing I like about this solution (and about <code>%jael</code> in general) is that it solves the problem of how you use someone else&#39;s secrets, if you manage to steal them. There&#39;s no point in security through technical difficulty -- if you have the latest private key for a ship, you&#39;re the captain now. You shouldn&#39;t have to hack something up to make this work. </p><h2 id="keep-in-touch---office-hours-">Keep in touch / office hours </h2><p><code>:talk</code> is always a great place to come and ask questions. Someone from Tlon will be available in <code>:talk</code> from 12PM - 3PM PDT each weekday. And <a href="https://fora.urbit.org">our forum</a> is a great place to post questions. We&#39;ve created <a href="https://urbit.org/fora/posts/~2016.10.7..17.28.21..b058~/">this thread</a> to discuss this post. </p><p>For anything else you can always get in touch with us via <a href="mailto:urbit@urbit.org"><code>urbit@urbit.org</code></a>. </p></div></div></div></div></div><footer class="container mb-36"><div class="row"><div class="col-sm-8 col-sm-offset-3 col-lg-4 col-md-offset-2"><div id="mc_embed_signup"><h2 class="mb-2">Updates</h2><p>Every month we send an email with community events and what we&#39;re up to. </p><iframe name="nothing" style="display:none;"></iframe><form id="mc-embedded-subscribe-form" class="validate" action="https://urbit.us11.list-manage.com/subscribe/post?u=972a03db9e0c6c25bb58de8c8&amp;amp;id=be143888d2" method="post" name="mc-embedded-subscribe-form" target="nothing"><div class="input-group text-mono" id="mc_embed_signup_scroll"><div class="mc-field-group"><input class="required mb-2" type="email" name="EMAIL" id="mce-EMAIL" placeholder="your@email.com"></input></div><div id="mce-responses" class="clear"><div id="mce-error-response" class="response" style="display:none"></div><div id="mce-success-response" class="response" style="display:none"></div></div><div style="position: absolute; left: -5000px;"><input type="text" name="b_972a03db9e0c6c25bb58de8c8_be143888d2"></input></div><div class="clear"><button id="mc-embedded-subscribe" class="bg-black white h-font" type="submit" name="subscribe"><span class="text-500">Subscribe</span></button></div></div></form></div></div></div><div class="row"><div class="col-sm-6 col-sm-offset-3 col-md-offset-2"><div><div class="mb-6"><h4 class="mb-1">Follow</h4><div><a class="text-mono" href="https://twitter.com/@urbit" target="_blank">twitter.com/@urbit</a></div><div><a class="text-mono" href="https://github.com/urbit" target="_blank">github.com/@urbit</a></div></div><div class="mb-6"><h4 class="mb-1">Contact</h4><div class="text-mono text-400">~zod</div><div><a class="text-mono" href="mailto:support@urbit.org">support@urbit.org</a></div></div><div class="mb-6"><h4 class="mb-1">Company</h4><div><a href="/privacy">Privacy Policy</a></div><div><a href="/tos">Terms of Service</a></div><div class="text-400"><a href="/bounty">Bug Bounty + Security</a></div></div></div></div></div><script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script><script src="/js/main.js"></script></footer></body></html></body></html>