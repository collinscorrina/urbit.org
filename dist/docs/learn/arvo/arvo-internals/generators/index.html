<html><head></head><meta charset="utf-8" /><body><html><head><meta charset="UTF-8" /><title>Urbit / Docs</title><meta name="viewport" content="width=device-width , initial-scale=1" /><link href="/tilde.ico" rel="icon" /><link href="/css/base.css" rel="stylesheet" /><link href="/css/lists.css" rel="stylesheet" /><link href="/css/visibility.css" rel="stylesheet" /><link href="/css/borders.css" rel="stylesheet" /><link href="/css/colors.css" rel="stylesheet" /><link href="/css/inputs.css" rel="stylesheet" /><link href="/css/typography.css" rel="stylesheet" /><link href="/css/menu.css" rel="stylesheet" /><link href="/css/images.css" rel="stylesheet" /><link href="/css/flex.css" rel="stylesheet" /><script src="https://www.googletagmanager.com/gtag/js?id=UA-47054188-1"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'UA-47054188-1');</script></head><body><nav class="bg-black pb-36 menu-hide overflow-y"><div class="container"><div class="row pt-10 mb-3"><div class="col-sm-1 menu-toggle"><img class="w-8 h-8" src="/assets/menu-close.svg" /></div><div class="col-sm-9 col-md-8 col-lg-4 col-sm-offset-2 col-md-offset-1 white"><div class="mb-6"><a href="/primer"><h1>Primer</h1></a><p> </p></div><div class="mb-6"><a href="/posts"><h1>Posts</h1></a><p> </p></div><div class="mb-6"><a href="/docs"><h1>Docs</h1></a><p> </p></div></div></div></div><footer class="container mb-36 white"><div class="row"><div class="col-sm-6 col-sm-offset-3 col-md-offset-2"><div><div class="mb-6"><h4 class="mb-1">Follow</h4><div><a class="text-mono" href="https://twitter.com/@urbit" target="_blank">twitter.com/@urbit</a></div><div><a class="text-mono" href="https://github.com/urbit" target="_blank">github.com/@urbit</a></div></div><div class="mb-6"><h4 class="mb-1">Contact</h4><div class="text-mono text-400">~zod</div><div><a class="text-mono" href="mailto:support@urbit.org">support@urbit.org</a></div></div><div class="mb-6"><h4 class="mb-1">Company</h4><div><a href="/privacy">Privacy Policy</a></div><div><a href="/tos">Terms of Service</a></div><div class="text-400"><a href="/bounty">Bug Bounty + Security</a></div></div></div></div></div></footer></nav><div id="sidebar-mobile" class="bg-gray-light sidebar-hide overflow-y"><div class="container"><div class="col-sm-10"><ol class="list-reset h-font mt-6"><li class="mb-4"><a class="h-font text-600" href="/docs/introduction">Introduction</a><ol><li><a class="h-font" href="/docs/introduction/technical-overview">Technical overview</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/introduction/source-code-overview">Source Code Overview</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/introduction/contributing">Contributing</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/introduction/arvo-vs-azimuth">Arvo vs. Azimuth</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/introduction/community-tutorials">Community Tutorials</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/introduction/galaxies-stars-and-planets">Galaxies, Stars, and Planets</a><ol class="list-reset h-font"></ol></li></ol></li><li class="mb-4"><a class="h-font text-600" href="/docs/getting-started">Getting Started</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/getting-started/azimuth">Using Bridge</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/getting-started/installing-urbit">Installing Urbit</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/getting-started/booting-a-ship">Booting a Ship</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/getting-started/creating-a-development-ship">Creating a Development Ship</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/getting-started/operating-a-star">Operating a Star</a><ol class="list-reset h-font"></ol></li></ol></li><li class="mb-4"><a class="h-font text-600" href="/docs/learn">Learn</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/learn/arvo">Arvo</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/learn/arvo/arvo-internals">Arvo Internals</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/ames">Ames</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/behn">Behn</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/admin">Admin and Operations</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/clay">Clay</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/dill">Dill</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/layout">Source layout</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/sail">Sail</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/messaging">Messaging</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/udon">Udon</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/eyre">Eyre</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/gall">Gall Apps</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/shell">Shell (Dojo)</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/ford">Ford</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/hall">Hall</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/filesystem">Introduction to the Filesystem</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/publishing">Web (Eyre)</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/generators">Generators</a></li></ol></li><li><a class="h-font" href="/docs/learn/arvo/hoon">Hoon</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/learn/arvo/hoon/getting-started">Getting Started</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/nouns">Nouns</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/the-subject-and-its-legs">The Subject and Its Legs</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/arms-and-cores">Arms and Cores</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/gates">Gates (Hoon Functions)</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/multi-gate-cores-and-doors">Multi-gate Cores and Doors</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/hoon-programs">Hoon Programs</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/hoon-syntax">Hoon Syntax</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/simple-one-gate-programs">Simple One-Gate Programs</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/atoms-auras-and-simple-cell-types">Atoms, Auras, and Simple Cell Types</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/type-checking-and-type-inference">Type Checking and Type Inference</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/structures-and-complex-types">Structures and Complex Types</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/cores">Cores</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/cores-again">Cores Again</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/lists">Standard Library: Lists</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/trees-sets-and-maps">Standard Library: Trees, Sets, and Maps</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/type-polymorphism">Type Polymorphism</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/examples">Examples</a></li></ol></li><li><a class="h-font" href="/docs/learn/arvo/nock">Nock</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/learn/arvo/nock/definition">Nock Definition</a></li><li><a class="h-font" href="/docs/learn/arvo/nock/explanation">Explanation</a></li><li><a class="h-font" href="/docs/learn/arvo/nock/example">Example</a></li><li><a class="h-font" href="/docs/learn/arvo/nock/implementations">Implementations</a></li></ol></li><li><a class="h-font" href="/docs/learn/arvo/vere">Vere</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/learn/arvo/vere/runtime">C Runtime System</a></li><li><a class="h-font" href="/docs/learn/arvo/vere/c">C in Urbit</a></li><li><a class="h-font" href="/docs/learn/arvo/vere/nouns">Land of Nouns</a></li><li><a class="h-font" href="/docs/learn/arvo/vere/api">API overview by prefix</a></li><li><a class="h-font" href="/docs/learn/arvo/vere/jetting">Writing Jets</a></li></ol></li><li><a class="h-font" href="/docs/learn/arvo/style">Hoon Style Guide</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/learn/arvo/workbook">Hoon Workbook</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/learn/arvo/workbook/list">List of Numbers</a></li><li><a class="h-font" href="/docs/learn/arvo/workbook/caesar">Caesar Cipher</a></li><li><a class="h-font" href="/docs/learn/arvo/workbook/recursion">Recursion</a></li><li><a class="h-font" href="/docs/learn/arvo/workbook/digits">Digits</a></li><li><a class="h-font" href="/docs/learn/arvo/workbook/eightball">Magic 8-Ball</a></li><li><a class="h-font" href="/docs/learn/arvo/workbook/traffic-light">Traffic Light</a></li><li><a class="h-font" href="/docs/learn/arvo/workbook/bomb">Bomb Defusing</a></li></ol></li></ol></li><li><a class="h-font" href="/docs/learn/azimuth">Azimuth</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/learn/azimuth/blockchain">Why Urbit Uses a Blockchain</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/learn/azimuth/wallet">The Urbit HD Wallet</a><ol class="list-reset h-font"></ol></li></ol></li></ol></li><li class="mb-4"><a class="h-font text-600" href="/docs/reference">Reference</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/reference/hoon-expressions">Hoon Expressions</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/reference/hoon-expressions/rune">Runes</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/constants">Atoms and strings</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/dot">Nock . (&quot;dot&quot;)</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/zap">Wild ! (&quot;zap&quot;)</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/tis">Change Subject = (&quot;tis&quot;)</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/wut">Conditionals ? (&quot;wut&quot;)</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/bar">Cores | (&quot;bar&quot;)</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/lus">Arms + (&quot;lus&quot;)</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/col">Cells : (&quot;col&quot;)</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/cen">Calls % (&quot;cen&quot;)</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/ket">Casts ^ (&quot;ket&quot;)</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/bus">Structures $ (&quot;bus&quot;)</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/mic">Make ; (&quot;mic&quot;)</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/sig">Hints ~ (&quot;sig&quot;)</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/terminators">Terminators -- and ==</a></li></ol></li><li><a class="h-font" href="/docs/reference/hoon-expressions/limb">Limbs and Wings</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/reference/hoon-expressions/limb/limb">Limbs</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/limb/wing">Wings</a></li></ol></li><li><a class="h-font" href="/docs/reference/hoon-expressions/basic">Basic Types</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/hoon-expressions/advanced">Advanced Types</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/hoon-expressions/irregular">Irregular forms</a><ol class="list-reset h-font"></ol></li></ol></li><li><a class="h-font" href="/docs/reference/library">Standard library</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/reference/library/1a">1a: Basic Arithmetic</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/1b">1b: Tree Addressing</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/1c">1c: Molds and Mold-Builders</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2a">2a: Unit Logic</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2b">2b: List Logic</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2c">2c: Bit Arithmetic</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2d">2d: Bit Logic</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2e">2e: Insecure Hashing</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2f">2f: Noun Ordering</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2g">2g: Unsigned Powers</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2h">2h: Set Logic</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2i">2i: Map Logic</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2j">2j: Jar and Jug Logic</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2k">2k: Queue Logic</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2l">2l: Container from Container</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2m">2m: Container from Noun</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2n">2n: Functional Hacks</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2o">2o: Normalizing Containers</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2p">2p: Serialization</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2q">2q: Molds and Mold-Builders</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/3a">3a: Modular and Signed Ints</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/3b">3b: Floating Point</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/3c">3c: Urbit Time</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/3d">3d: SHA Hash Family</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/3e">3e: (Removed)</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/3f">3f: Scrambling</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/3g">3g: Molds and Mold-Builders</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4a">4a: Exotic Bases</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4b">4b: Text Processing</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4c">4c: Tank Printer</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4d">4d: Parsing (Tracing)</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4e">4e: Parsing (Combinators)</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4f">4f: Parsing (Rule-Builders)</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4g">4g: Parsing (Outside Caller)</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4h">4h: Parsing (ASCII Glyphs)</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4i">4i: Parsing (Useful Idioms)</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4j">4j: Parsing (Bases and Base Digits)</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4k">4k: Atom Printing</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4l">4l: Atom Parsing</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4m">4m: Formatting Functions</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4n">4n: Virtualization</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4o">4o: Molds</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/5a">5a: Compiler Utilities</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/5b">5b: Macro Expansion</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/5c">5c: Compiler Backend &amp; Prettyprinter</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/5d">5d: Parser</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/5e">5e: Caching Compiler</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/5f">5f: Molds and Mold-Builders</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/5g">5g: profiling support</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/zuse">Zuse</a><ol class="list-reset h-font"></ol></li></ol></li><li><a class="h-font" href="/docs/reference/glossary">Glossary</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/cheat-sheet">Cheat sheet</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/troubleshooting">Hoon Errors</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/alphabetical-arms">Alphabetical Arms</a><ol class="list-reset h-font"></ol></li></ol></li></ol></div><div class="col-sm-1 sidebar-toggle fixed" style="top: 20px; right: 1em"><img class="w-8 h-8 dropdown-right" src="/assets/dropdown.svg" /></div></div></div><div class="container mt-10"><div class="sidebar-container row col-sm-3 fixed pb-30 h-100-md"><div class="col-sm-3 col-lg-6 menu-toggle"><img class="w-8 h-8" src="/assets/menu-open.svg" /></div><div class="col-sm-12 mt-7 sidebar-toggle md-hide"><img class="w-8 h-8 dropdown-left" src="/assets/dropdown.svg" /></div><div class="h-100 col-sm-8 col-md-11 overflow-y sm-hide"><ol class="list-reset h-font mt-6"><li class="mb-4"><a class="h-font text-600" href="/docs/introduction">Introduction</a><ol><li><a class="h-font" href="/docs/introduction/technical-overview">Technical overview</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/introduction/source-code-overview">Source Code Overview</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/introduction/contributing">Contributing</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/introduction/arvo-vs-azimuth">Arvo vs. Azimuth</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/introduction/community-tutorials">Community Tutorials</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/introduction/galaxies-stars-and-planets">Galaxies, Stars, and Planets</a><ol class="list-reset h-font"></ol></li></ol></li><li class="mb-4"><a class="h-font text-600" href="/docs/getting-started">Getting Started</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/getting-started/azimuth">Using Bridge</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/getting-started/installing-urbit">Installing Urbit</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/getting-started/booting-a-ship">Booting a Ship</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/getting-started/creating-a-development-ship">Creating a Development Ship</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/getting-started/operating-a-star">Operating a Star</a><ol class="list-reset h-font"></ol></li></ol></li><li class="mb-4"><a class="h-font text-600" href="/docs/learn">Learn</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/learn/arvo">Arvo</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/learn/arvo/arvo-internals">Arvo Internals</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/ames">Ames</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/behn">Behn</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/admin">Admin and Operations</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/clay">Clay</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/dill">Dill</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/layout">Source layout</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/sail">Sail</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/messaging">Messaging</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/udon">Udon</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/eyre">Eyre</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/gall">Gall Apps</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/shell">Shell (Dojo)</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/ford">Ford</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/hall">Hall</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/filesystem">Introduction to the Filesystem</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/publishing">Web (Eyre)</a></li><li><a class="h-font" href="/docs/learn/arvo/arvo-internals/generators">Generators</a></li></ol></li><li><a class="h-font" href="/docs/learn/arvo/hoon">Hoon</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/learn/arvo/hoon/getting-started">Getting Started</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/nouns">Nouns</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/the-subject-and-its-legs">The Subject and Its Legs</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/arms-and-cores">Arms and Cores</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/gates">Gates (Hoon Functions)</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/multi-gate-cores-and-doors">Multi-gate Cores and Doors</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/hoon-programs">Hoon Programs</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/hoon-syntax">Hoon Syntax</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/simple-one-gate-programs">Simple One-Gate Programs</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/atoms-auras-and-simple-cell-types">Atoms, Auras, and Simple Cell Types</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/type-checking-and-type-inference">Type Checking and Type Inference</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/structures-and-complex-types">Structures and Complex Types</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/cores">Cores</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/cores-again">Cores Again</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/lists">Standard Library: Lists</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/trees-sets-and-maps">Standard Library: Trees, Sets, and Maps</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/type-polymorphism">Type Polymorphism</a></li><li><a class="h-font" href="/docs/learn/arvo/hoon/examples">Examples</a></li></ol></li><li><a class="h-font" href="/docs/learn/arvo/nock">Nock</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/learn/arvo/nock/definition">Nock Definition</a></li><li><a class="h-font" href="/docs/learn/arvo/nock/explanation">Explanation</a></li><li><a class="h-font" href="/docs/learn/arvo/nock/example">Example</a></li><li><a class="h-font" href="/docs/learn/arvo/nock/implementations">Implementations</a></li></ol></li><li><a class="h-font" href="/docs/learn/arvo/vere">Vere</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/learn/arvo/vere/runtime">C Runtime System</a></li><li><a class="h-font" href="/docs/learn/arvo/vere/c">C in Urbit</a></li><li><a class="h-font" href="/docs/learn/arvo/vere/nouns">Land of Nouns</a></li><li><a class="h-font" href="/docs/learn/arvo/vere/api">API overview by prefix</a></li><li><a class="h-font" href="/docs/learn/arvo/vere/jetting">Writing Jets</a></li></ol></li><li><a class="h-font" href="/docs/learn/arvo/style">Hoon Style Guide</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/learn/arvo/workbook">Hoon Workbook</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/learn/arvo/workbook/list">List of Numbers</a></li><li><a class="h-font" href="/docs/learn/arvo/workbook/caesar">Caesar Cipher</a></li><li><a class="h-font" href="/docs/learn/arvo/workbook/recursion">Recursion</a></li><li><a class="h-font" href="/docs/learn/arvo/workbook/digits">Digits</a></li><li><a class="h-font" href="/docs/learn/arvo/workbook/eightball">Magic 8-Ball</a></li><li><a class="h-font" href="/docs/learn/arvo/workbook/traffic-light">Traffic Light</a></li><li><a class="h-font" href="/docs/learn/arvo/workbook/bomb">Bomb Defusing</a></li></ol></li></ol></li><li><a class="h-font" href="/docs/learn/azimuth">Azimuth</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/learn/azimuth/blockchain">Why Urbit Uses a Blockchain</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/learn/azimuth/wallet">The Urbit HD Wallet</a><ol class="list-reset h-font"></ol></li></ol></li></ol></li><li class="mb-4"><a class="h-font text-600" href="/docs/reference">Reference</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/reference/hoon-expressions">Hoon Expressions</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/reference/hoon-expressions/rune">Runes</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/constants">Atoms and strings</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/dot">Nock . (&quot;dot&quot;)</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/zap">Wild ! (&quot;zap&quot;)</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/tis">Change Subject = (&quot;tis&quot;)</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/wut">Conditionals ? (&quot;wut&quot;)</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/bar">Cores | (&quot;bar&quot;)</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/lus">Arms + (&quot;lus&quot;)</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/col">Cells : (&quot;col&quot;)</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/cen">Calls % (&quot;cen&quot;)</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/ket">Casts ^ (&quot;ket&quot;)</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/bus">Structures $ (&quot;bus&quot;)</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/mic">Make ; (&quot;mic&quot;)</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/sig">Hints ~ (&quot;sig&quot;)</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/rune/terminators">Terminators -- and ==</a></li></ol></li><li><a class="h-font" href="/docs/reference/hoon-expressions/limb">Limbs and Wings</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/reference/hoon-expressions/limb/limb">Limbs</a></li><li><a class="h-font" href="/docs/reference/hoon-expressions/limb/wing">Wings</a></li></ol></li><li><a class="h-font" href="/docs/reference/hoon-expressions/basic">Basic Types</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/hoon-expressions/advanced">Advanced Types</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/hoon-expressions/irregular">Irregular forms</a><ol class="list-reset h-font"></ol></li></ol></li><li><a class="h-font" href="/docs/reference/library">Standard library</a><ol class="list-reset h-font"><li><a class="h-font" href="/docs/reference/library/1a">1a: Basic Arithmetic</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/1b">1b: Tree Addressing</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/1c">1c: Molds and Mold-Builders</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2a">2a: Unit Logic</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2b">2b: List Logic</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2c">2c: Bit Arithmetic</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2d">2d: Bit Logic</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2e">2e: Insecure Hashing</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2f">2f: Noun Ordering</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2g">2g: Unsigned Powers</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2h">2h: Set Logic</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2i">2i: Map Logic</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2j">2j: Jar and Jug Logic</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2k">2k: Queue Logic</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2l">2l: Container from Container</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2m">2m: Container from Noun</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2n">2n: Functional Hacks</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2o">2o: Normalizing Containers</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2p">2p: Serialization</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/2q">2q: Molds and Mold-Builders</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/3a">3a: Modular and Signed Ints</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/3b">3b: Floating Point</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/3c">3c: Urbit Time</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/3d">3d: SHA Hash Family</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/3e">3e: (Removed)</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/3f">3f: Scrambling</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/3g">3g: Molds and Mold-Builders</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4a">4a: Exotic Bases</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4b">4b: Text Processing</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4c">4c: Tank Printer</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4d">4d: Parsing (Tracing)</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4e">4e: Parsing (Combinators)</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4f">4f: Parsing (Rule-Builders)</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4g">4g: Parsing (Outside Caller)</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4h">4h: Parsing (ASCII Glyphs)</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4i">4i: Parsing (Useful Idioms)</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4j">4j: Parsing (Bases and Base Digits)</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4k">4k: Atom Printing</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4l">4l: Atom Parsing</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4m">4m: Formatting Functions</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4n">4n: Virtualization</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/4o">4o: Molds</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/5a">5a: Compiler Utilities</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/5b">5b: Macro Expansion</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/5c">5c: Compiler Backend &amp; Prettyprinter</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/5d">5d: Parser</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/5e">5e: Caching Compiler</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/5f">5f: Molds and Mold-Builders</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/5g">5g: profiling support</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/library/zuse">Zuse</a><ol class="list-reset h-font"></ol></li></ol></li><li><a class="h-font" href="/docs/reference/glossary">Glossary</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/cheat-sheet">Cheat sheet</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/troubleshooting">Hoon Errors</a><ol class="list-reset h-font"></ol></li><li><a class="h-font" href="/docs/reference/alphabetical-arms">Alphabetical Arms</a><ol class="list-reset h-font"></ol></li></ol></li></ol></div></div><div class="row pb-80"><div class="col-sm-9 col-md-8 col-sm-offset-2 col-md-offset-3 docs"><div><div><h1 id="generators-">Generators </h1><p>Generators are the most straightforward way to write programs for Urbit. They are used for doing computations that do not require persistence: they take an input and produce an output, then disappear. Generators might make sense for listing directory contents, or running unit tests, or fetching the contents of a URL. </p><p>There are four kinds of generators: naked, <code>%say</code>, <code>%get</code>, and <code>%ask</code>. </p><h3 id="naked-generators-">Naked Generators </h3><p>A naked generator is simply a <code>gate</code>; that is, it is an anonymous function that takes a <code>sample</code> (argument) and produces a noun. All you need to do is write a <code>gate</code> and put it into a file in the <code>/gen</code> directory. Let&#39;s take a look at a very simple one: </p><pre>|=  a=*
a
</pre><p>This generator takes one argument of any noun and produces it without any changes. If we put this into a file named <code>echo.hoon</code> in the <code>/gen</code> directory, we can run it from the <a href="/docs/learn/arvo/arvo-internals/shell">Dojo</a>: </p><pre>&gt; +echo 42
42
</pre><p>This command just passes in 42 and gets 42 back. But what about when we pass in <code>&quot;asdf&quot;</code>? </p><pre>&gt; +echo &quot;asdf&quot;
[97 115 100 102 0]
</pre><p>We just get a pile of numbers back in the form of a raw <code>noun</code>. The numbers that compose that noun are called <code>atoms</code>, and how they are interpreted is a matter of what <code>aura</code> is being applied to them. For the purposes of this lesson, an <code>aura</code> tells the pretty-printer how to display an <code>atom</code>, but keep in mind that an <code>aura</code> is type metadata and does other things, too. </p><p>In the example above, we didn&#39;t specify an <code>aura</code>, leaving the printer to fend for itself. <code>&quot;asdf&quot;</code> is a <code>tape</code>, a type that is simply a <code>list</code> of <code>cords</code>. A <code>cord</code> is itself an atom represented as a string of UTF-8 characters. When used as part of a <code>tape</code>, the <code>cord</code> is only a single character. So each atom in the <code>[97 115 100 102 0]</code> output corresponds to a component of the <code>tape</code>: 97 is <code>a</code>, 115 is <code>s</code>, 100 is <code>d</code>, 102 is <code>f</code>, and <code>0</code> is the “null” that every list is terminated with. </p><p>We can tell the Dojo to cast -- apply a specific type to -- the output of our generator to see something more familiar: </p><pre>&gt; _tape +echo &quot;asdf&quot;
&quot;asdf&quot;
</pre><p>Now let&#39;s create a generator with two arguments instead of one. Save the code below as <code>add.hoon</code> in the <code>/gen</code> directory. </p><pre>|=  [a=@ud b=@ud]
(add a b)
</pre><p>Now, run the generator: </p><pre>&gt; +add [3 4]
7
</pre><p>You may notice our generator takes a cell containing two <code>@ud</code>. This is actually one of the limitations of naked generators. We can only pass one argument. We can get around this, of course, by passing a cell, but it&#39;s less than ideal. Also, a naked generator cannot be called without an argument. This brings us to <code>%say</code> generators. </p><h3 id="-say-generators-"><code>%say</code> Generators </h3><p>We use <code>%say</code> generators when we want to provide something else in Arvo, the Urbit operating system, with metadata about the generator&#39;s output. This is useful when a generator is needed to pipe data to another program, a frequent occurrence. </p><p>To that end, <code>%say</code> generators use <code>mark</code>s to make it clear, to other Arvo computations, exactly what kind of data their output is. A <code>mark</code> is akin to a MIME type on the Arvo level. A <code>mark</code> describes the data in some way, indicating that it&#39;s an <code>%atom</code>, or that it&#39;s a standard such as <code>%json</code>, or even that it&#39;s an application-specific data structure like <code>%talk-command</code>. <code>mark</code>s are not specific to <code>%say</code> generators; whenever data moves between programs in Arvo, that data is marked. </p><p>So, more formally, a <code>%say</code> generator is a <code>cell</code>. The head of that cell is the <code>%say</code> tag, and the tail is a <code>gate</code> that produces a <code>cask</code> -- a pair of the output data and the <code>mark</code> describing that data. </p><p>Below is an example of a <code>%say</code> generator. Save it to <code>add.hoon</code> in the <code>/gen</code> directory. </p><pre>:-  %say
|=  *
:-  %noun
(add 40 2)
</pre><p>Now run the generator as below: </p><pre>&gt; +add
42
</pre><p>Notice that we used no argument, something that is possible with <code>%say</code> generators but impossible with naked generators. We&#39;ll explain that in a moment. For now, let&#39;s focus on the code that is necessary to make something a <code>%say</code> generator. </p><pre>:-  %say
</pre><p>Recall that the rune <code>:-</code> produces a cell, with the first following expression as its head and the second following expression as its tail. </p><p>The expression above creates a cell with <code>%say</code> as the head. The tail is the <code>|= *</code> expression on the line that follows. </p><pre>|=  *
:-  %noun
(add 40 2)
</pre><p><code>|= *</code> constructs a gate that takes a noun. This gate will itself produce a <code>cask</code>, which is cell formed by the prepending <code>:-</code>. The head of that <code>cask</code> is <code>%noun</code> and the tail is the rest of the program, <code>(add 40 2)</code>. The tail of the <code>cask</code> will be our actual data produced by the body of the program: in this case, just adding 40 and 2 together. </p><h4 id="-say-generators-with-arguments-"><code>%say</code> generators with arguments </h4><p>We can modify the boilerplate code to allow arguments to be passed into a <code>%say</code> generator, but in a way that gives us more power than we would have if we just used a naked generator. </p><p>Naked generators are limited because they have no way of accessing data that exists in Arvo, such as the date and time or pieces of fresh entropy. In <code>%say</code> generators, however, we can access that kind of subject by identifying them in the gate&#39;s sample, which we only specified as <code>*</code> in the previous few examples. But we can do more with <code>%say</code> generators if we do more with that sample. Any valid sample will follow this 3-tuple scheme: </p><p><code>[[now, eny, beak] [list of unnamed arguments] [list of named arguments]]</code> </p><p>This entire structure is a noun, which is why <code>*</code> is a valid sample if we wish to not use any of the information here in a generator. But let&#39;s look at each of these three elements, piece by piece. </p><p>The <b>first part</b> of the above 3-tuple is a noun that is composed of three atoms: </p><p><code>now</code> is the current time. <code>eny</code> is 512 bits of entropy for seeding random number generators. <code>beak</code> contains the current ship, desk, and case. </p><p>You can access each of those pieces of data by typing their names into the Dojo. But in a generator, we need to put faces (variable names) onto that data so we can easily use it in the program. We can do so like this: </p><pre>|=  [[now=@da eny=@uvJ bec=beak] ~ ~]
</pre><p>Any of those pieces of data could be omitted by replacing part of the noun with <code>*</code> rather than giving them faces. For example, <code>[now=@da * bec=beak]</code> if we didn&#39;t want <code>eny</code>, or <code>[* * bec=beak]</code> if we only wanted <code>beak</code>. </p><p>The <b>second part</b> of the sample is a <code>list</code> of arguments that <i>must</i> be passed to the generator as it is run. Because it&#39;s a <code>list</code>, this element needs to be terminated with a <code>~</code>. In the example above, we used <code>~</code>, the empty list, to represent this second part. But that would mean we don&#39;t want to use any new faces for our generator. So a sample where we want to declare a single required argument would look like this: </p><pre>|=  [* [n=@ud ~] ~]
</pre><p>In the above code, we use a <code>*</code> to ignore any of the information that would go in the first part of the sample, somewhat similar to how we use a <code>~</code> to say “nothing here” for the second or third parts of the sample. </p><p>But to use both parts together, our gate and sample would look like this: </p><pre>|=  [[now=@da eny=@uvJ bec=beak] [n=@ud ~] ~]
</pre><p>The <b>third part</b> of the sample is a list of <i>optional</i> arguments. These arguments may be passed to the program as it&#39;s being run, but the program doesn&#39;t require them. The syntax for the third part is just like the syntax for the second part, besides its position: </p><pre>|=  [* ~ [bet=@ud ~]]
</pre><p>Let&#39;s look at an example that uses all three parts. Save the code below in a file called <code>dice.hoon</code> in your <code>/gen</code> directory. </p><pre>:-  %say
|=  [[now=@da eny=@uvJ bec=beak] [n=@ud ~] [bet=@ud ~]]
:-  %noun
[(~(rad og eny) n) bet]
</pre><p>This is a very simple dice program with an optional betting functionality. In the code, our sample specifies faces on all of the Arvo data, meaning that we can easily access them. We also require the argument <code>[n=@ud ~]</code>, and allow the <i>optional</i> argument <code>[bet=@ud ~]</code>. </p><p>But there&#39;s something new: <code>(~(rad og eny) n)</code>. This code pulls the <code>rad</code> arm out of the <code>og</code> core with the subject of <code>eny</code>. Recall that <code>eny</code> is our entropy value, so this is used to seed the generator. The <code>rad</code> arm will give us a pseudorandom number between 0 and <code>n</code>. Then we form a cell with the result and <code>bet</code>, the optional named argument specified previously. </p><p>We can run this generator like so: </p><pre>&gt; +dice 6, =bet 2
[4 2]

&gt; +dice 6
[5 0]

&gt; +dice 6
[2 0]

&gt; +dice 6, =bet 200
[0 200]

&gt; +dice
nest-fail
</pre><p>We get a different value from the same generator between runs, something that isn&#39;t possible with a naked generator. Another novelty is the ability to choose to not use the second argument. </p><h5 id="arguments-without-a-cell-">Arguments without a cell </h5><p>Also unlike a naked generator, we don&#39;t need to put our arguments together into a cell. Swap the code below into your <code>add.hoon</code> file. </p><pre>:-  %say
|=  [* [a=@ud b=@ud ~] ~]
:-  %noun
(add a b)
</pre><p>In the above code we&#39;re again creating a <code>%say</code> generator, but the sample of our gate is a little different than before. We are using <code>*</code> for the first part of the sample, because we don&#39;t use any Arvo data in this program. We are using a <code>~</code> for the third part, because we aren&#39;t allowing optional arguments -- the list of optional arguments is <i>empty</i>. </p><p>Run a command like the one below in the Dojo. Notice that you can use two arguments that aren&#39;t in the cells. </p><pre>&gt; +add 40 2
42
</pre><h3 id="-ask-generators-"><code>%ask</code> generators </h3><p>We use the <code>%ask</code> generator when we want to create an interactive program that prompts for inputs as it runs, rather than expecting arguments to be passed in at the time of initiation. </p><p>Code-wise, two things are needed to create a useful <code>%ask</code> generator. </p><p>The first is <b><code>sole-result</code></b>, which lives in <code>/sur/sole.hoon</code>. It&#39;s a mold-builder that&#39;s required by any part of Arvo, such as the Dojo, that wants to understand the output of the <code>%ask</code> generator. Because it&#39;s the only type of <code>%ask</code> data that is intelligible to the system, the ultimate output of an <code>%ask</code> generator must be <code>sole-result</code>. You can think of it as a function that takes molds and digests them into a type for the operating system. The simplest way to use <code>sole-result</code> is by calling the <code>produce</code> gate from <code>/lib/generators.hoon</code>. </p><p>The second is <b><code>prompt</code></b>, a gate that lives in <code>lib/generators.hoon</code>. <code>prompt</code> allows you to get information back from the user, which is essential to the typical desired operation of an <code>%ask</code> generator. </p><p>Since this isn&#39;t easy to digest in the abstract, we&#39;ll use an example generator to explain how this kind of generator works. </p><h5 id="-ask-example-"><code>%ask</code> example </h5><p>The code below is an <code>%ask</code> generator that checks if the user inputs “blue” when prompted. Save it as <code>axe.hoon</code> in <code>/gen</code>. </p><pre>/-  sole
/+  generators
=,  [sole generators]
:-  %ask
|=  *
^-  (sole-result (cask tang))
%+  print    leaf+&quot;What is your favorite color?&quot;
%+  prompt   [%&amp; %prompt &quot;color: &quot;]
|=  t=tape
%+  produce  %tang
?:  =(t &quot;blue&quot;)
  :~  leaf+&quot;Oh. Thank you very much.&quot;
      leaf+&quot;Right. Off you go then.&quot;
  ==
:~  leaf+&quot;Aaaaagh!&quot;
    leaf+&quot;Into the Gorge of Eternal Peril with you!&quot;
==
</pre><p>Run the generator from the Dojo: </p><pre>&gt; +axe
What is your favorite color?
: color:
</pre><p>Something new happened. Instead of simply returning something, your Dojo&#39;s prompt changed from <code>~your-urbit:dojo&gt;</code> to <code>~your-urbit:dojo: color:</code>, and now expects additional input. Let&#39;s give it an input: </p><pre>: color: red
Into the Gorge of Eternal Peril with you!
Aaaaagh!
</pre><p>Let&#39;s go over what exactly is happening in this code. </p><pre>/-  sole
/+  generators
=,  [sole generators]
</pre><p>Here we bring in some of the types we are going to need from <code>/sur/sole</code> and gates we will use from <code>/lib/generators</code>. We use some special runes for this. </p><p><code>/-</code> is a Ford rune used to import types from <code>sur</code>. </p><p><code>/+</code> is a Ford rune used to import libraries from <code>lib</code>. </p><p><code>=,</code> is a rune that allows us to expose a namespace. We do this to avoid having to write <code>sole-result:sole</code> instead of <code>sole-result</code> or <code>print:generators</code> instead of <code>print</code>. </p><pre>:-  %ask
|=  *
</pre><p>This code might be familiar. Just as with their <code>%say</code> cousins, <code>%ask</code> generators need to produce a <code>cell</code>, the head of which specifies what kind of generator we are running. </p><p>With <code>|= *</code>, we create a gate and ignore the standard arguments we are given, because we&#39;re not using them. </p><pre>^-  (sole-result (cask tang))
</pre><p><code>%ask</code> generators need to have the second half of the cell be a gate that produces a <code>sole-result</code>, one that in this case contains a <code>cask</code> of <code>tang</code>. We use the <code>^-</code> rune to constrain the generator&#39;s output to such a <code>sole-result</code>. </p><p>A <code>cask</code> is a pair of a <code>mark</code> name and a noun. Recall that a <code>mark</code> can be thought of as an Arvo-level MIME type for data. </p><p>A <code>tang</code> is a <code>list</code> of <code>tank</code>, and a <code>tank</code> is a structure for printing data. There are three types of <code>tank</code>: <code>leaf</code>, <code>palm</code>, and <code>rose</code>. A <code>leaf</code> is for printing a single noun, a <code>rose</code> is for printing rows of data, and a <code>palm</code> is for printing backstep-indented lists. </p><pre>%+  print    leaf+&quot;What is your favorite color?&quot;
%+  prompt   [%&amp; %prompt &quot;color: &quot;]
|=  t=tape
%+  produce  %tang
</pre><p>Because we imported <code>generators</code>, we can access its contained gates, three of which we use in <code>axe.hoon</code>: <code>print</code>, <code>prompt</code>, and <code>produce</code>. </p><p><b><code>print</code></b> is used for printing a <code>tank</code> to the console. </p><p>In our example, <code>%+</code> is the rune to call a gate, and our gate <code>print</code> takes one argument which is a <code>tank</code> to print. The <code>+</code> here is syntactic sugar for <code>[leaf &quot;What is your favorite color?&quot;]</code> that just makes it easier to write. </p><p><b><code>prompt</code></b> is used to construct a prompt for the user to provide input. It takes a single argument that is a tuple. Most <code>%ask</code> generators will want to use the <code>prompt</code> gate. </p><p>The first element of the <code>prompt</code> sample is a flag that indicates whether what the user typed should be echoed out to them or hidden. <code>%&amp;</code> will produce echoed output and <code>%|</code> will hide the output (for use in passwords or other secret text). </p><p>The second element of the <code>prompt</code> sample is intended to be information for use in creating autocomplete options for the prompt. This functionality is not yet implemented. </p><p>The third element of the <code>prompt</code> sample is the <code>tape</code> that we would like to use to prompt the user. In the case of our example, we use <code>&quot;color: &quot;</code>. </p><p><b><code>produce</code></b> is used to construct the output of the generator. In our example, we produce a <code>tang</code>. </p><pre>|=  t=tape
</pre><p>Our gate here takes a <code>tape</code> that was produced by <code>prompt</code>. If we needed another type of data we could use <code>parse</code> to obtain it. </p><p>The rest of this generator should be intelligible to those with Hoon knowledge at this point. </p><p>One quirk that you should be aware of, though, is that <code>tang</code> prints in reverse order from how it is created. The reason for this is that <code>tang</code> was originally created to display stack trace information, which should be produced in reverse order. This leads to an annoyance: we either have to specify our messages backwards or construct them in the order we want and then <code>flop</code> the <code>list</code>. This is a <a href="https://github.com/urbit/arvo/issues/840">known issue</a> to be resolved. </p><h3 id="-get-generators-"><code>%get</code> generators </h3><p><code>%get</code> generators are used for making HTTP requests through <code>eyre</code>. For this section we&#39;ll assume knowledge of generators covered in previous sections, so we can jump in with an example: </p><pre>/-  sole
/+  generators
=,  generators
:-  %get
|=  [* [url=tape ~] ~]
^-  (sole-request:sole (cask json))
%+  curl  (scan url auri:de-purl:html)
|=  hit/httr:eyre
?~  r.hit  !!
=/  my-json  (de-json:html q.u.r.hit)
?~  my-json  !!
=,  dejs:format
%+  produce  %json
%.  %title
%~  got  by
%-  (om same)
u.my-json
</pre><p>The above generator was written with the <a href="https://ghibliapi.herokuapp.com/">Studio Ghibli API</a>. It uses this API to print the title of a Studio Ghibli film. </p><pre>/-  sole
/+  generators
=,  generators
</pre><p>Here we import types from <code>/sur/sole.hoon</code> and gates from <code>/lib/generators.hoon</code>. We also use <code>=,</code> to expose the namespace of <code>generators</code> that we just imported. </p><pre>:-  %get
|=  [* [url=tape ~] ~]
</pre><p>Like with <code>%say</code> and <code>%ask</code> generators, we must include the “boilerplate”: code that produces a generator-specific <code>cell</code>. The head of that cell is <code>%get</code>, and the tail is a gate that takes a <code>tape</code> of the URL that we are trying to access. </p><pre>^-  (sole-request:sole (cask json))
</pre><p>Here we make sure our gate is producing a <code>sole-request</code> which contains a <code>cask</code> of the type <code>json</code>. </p><pre>%+  curl  (scan url auri:de-purl:html)
|=  hit/httr:eyre
</pre><p>Here we can see the call to <code>curl</code>, the sample of which will parse our url and make sure it&#39;s in the proper format. </p><p>The second part of the <code>curl</code> call is the <code>gate</code> that will get called with the result provided by the actual HTTP request. </p><pre>?~  r.hit  !!
</pre><p>Here we verify that the <code>r</code> face of our response is not null before continuing. If it is null, the generator will crash, as there is nothing left to do. </p><pre>=/  my-json  (de-json:html q.u.r.hit)
</pre><p>Here we verify that data was returned to us in the <code>json</code> Hoon type. <code>q.u.r.hit</code> is the actual data we care about as a <code>cord</code>. <code>hit</code> is actually an entire response object, including headers, which we don&#39;t care about for this example. <code>de-json</code> out of <code>html</code> will parse the <code>cord</code> and produce a <code>json</code> type for us that we can then use to inspect the data. </p><pre>?~  my-json  !!
=,  dejs:format
</pre><p>After parsing the JSON structure we want to make sure we got back a valid <code>json</code> type. To do that, we test for null and crash if that test passes. If it doesn&#39;t pass, we use <code>=,</code> on the <code>dejs:format</code> core so that we can more easily pull arms out of it. </p><pre>%+  produce  %json
%.  %title
%~  got  by
</pre><p>Now we come to our <code>produce</code> call. Recall that <code>produce</code> is used in all the non-naked generators to output the final result. Here we want to produce a <code>cask</code> of <code>json</code>, so we use the mark <code>%json</code> to indicate that. </p><p>Next we have what may be an unfamiliar rune: <code>%.</code>. This rune is simply <code>%-</code> with the argument order reversed. <code>%title</code> is the argument passed to the next gate that is called. <code>by</code> is the core that is the <code>map</code> engine. A Hoon <code>map</code> is a key-value pair structure, sometimes referred to as a dictionary in other languages. <code>got</code> is the arm in <code>by</code> that will produce a gate that we can call to access members of a given <code>map</code>. </p><blockquote><p>The idiomatic way to write Hoon is to have the “heaviest” code paths lowest in the program, which is why <code>%.</code> is preferred in this case over <code>%-</code>. Use of this style is recommended, as it results in code that is much easier to read. </p></blockquote><p>At the moment, however, we do not have a <code>map</code>, but instead have a <code>json</code> type. </p><pre>%-  (om same)
u.my-json
</pre><p>Here we use <code>om</code>, which is an arm in <code>dejs:format</code> that will take a <code>json</code> and return a <code>map</code>. <code>same</code> is a wet gate from the standard library that takes an argument of any type and returns it as that type. We could use any other gate to modify the data if that were useful for the particular data we are going to be processing, but here we want the data exactly as it is. </p><p>Since <code>my-json</code> is a <code>unit</code> of <code>json</code>, the actual data we are looking for is in <code>u.my-json</code>. We take this and give it to the gate produced by the call to <code>om</code>. This gate is going to transform our data by taking in the <code>json</code> structure and producing a <code>map</code>. Then we can look up keys in this map using <code>got</code> from the <code>by</code> core. </p><p><code>%.</code> performs the same function as <code>%-</code>, the rune used to call a function, except with the arguments reversed so that the function is last and the arguments of that function come first. It&#39;s used here to keep with the principle that heaviest, or most complex, expressions should go to the bottom. </p><p>The key we are looking up in our new <code>map</code> we&#39;ve created from <code>my-json</code> is <code>%title</code>, which is an element in the original source, to produce the final result of the generator. </p></div></div></div></div></div><footer class="mb-36"><script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script><script src="/js/main.js"></script></footer></body></html></body></html>